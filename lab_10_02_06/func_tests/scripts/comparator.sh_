#!/usr/bin/env bash

#
# Сравнивает результат выполнения программы с ожидаемым,
# предварительно извлекая необходимые данные
# Коды возврата:
#       0   -   результаты совпадают
#       1   -   результаты различаются
#

# Сравнение строк после слова 'Result: '

got=$(grep '^Result: ' "$1")
expected=$(grep '^Result: ' "$2")

result=0
if [[ "$got" != "$expected" ]]; then
    result=1
fi

exit $result
